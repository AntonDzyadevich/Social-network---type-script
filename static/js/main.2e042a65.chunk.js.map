{"version":3,"sources":["Redux/dialogs-reducer.ts","components/Users/Users.module.css","assets/images/Anton.jpg","assets/images/preloader.svg","api/api.tsx","components/Navbar/Navbar.module.css","serviceWorker.ts","Redux/users-reducer.ts","components/Navbar/Navbar.tsx","utils/objects-helpers.ts","components/common/Paginator/Paginator.tsx","components/Users/User.tsx","components/Users/Users.tsx","Redux/users-selector.ts","components/Users/UsersContainer.tsx","components/Header/Header.tsx","Redux/auth-reducer.ts","components/Header/HeaderContainer.tsx","components/Login/Login.tsx","Redux/app-reducer.ts","Redux/sidebar-reducer.ts","Redux/redux-store.ts","hoc/withSuspense.tsx","App.tsx","index.tsx","components/common/Preloader/FormsControls/FormsControls.tsx","components/Header/Header.module.css","components/common/Preloader/FormsControls/FormsControls.module.css","components/common/Preloader/Preloader.tsx","utils/validators/validators.ts","components/common/Paginator/Paginator.module.css","Redux/profile-reducer.ts"],"names":["initialState","dialogs","id","name","messages","message","sendMessageCreator","newMessageBody","type","dialogsReducer","state","action","body","module","exports","instance","axios","create","withCredentials","baseURL","headers","ProfileApi","getProfile","userId","get","getStatus","updateStatus","status","put","userAPI","getUsers","currentPage","pageSize","then","response","data","follow","post","unfollow","delete","console","warn","authAPI","me","login","email","password","rememberMe","logout","Boolean","window","location","hostname","match","ResultCodesEnum","Navbar","className","s","nav","item","active","to","activeClassName","activeLink","updateObjectInArray","items","itemId","objPropName","newObjProps","map","u","users","totalUsersCount","isFetching","followingInProgress","followSuccess","unfollowSuccess","toggleIsFetching","toggleIsFollowingProgress","_followUnfollowFlow","dispatch","apiMethod","actionCreator","a","resultCode","usersReducer","followed","count","filter","Paginator","portionSize","totalItemsCount","onPageChanged","x","pagesCount","Math","ceil","pages","i","push","portionCount","useState","portionNumber","setPortionNumber","leftPortionPageNumber","rightPortionPageNumber","paginator","onClick","p","selectedPage","e","User","user","photo","src","photos","small","userPhoto","disabled","some","Users","key","createSelector","usersPage","getPageSize","getTotalUsersCount","getCurrentPage","getIsFetching","getFollowingInProgress","UsersContainer","pageNumber","props","this","Preloader","React","Component","compose","connect","bind","page","getState","totalCount","Header","isAuth","header","alt","loginBlock","setAuthUserData","payload","getAuthUserData","authReducer","HeaderContainer","auth","LoginReduxForm","reduxForm","form","handleSubmit","error","onSubmit","createField","required","Input","undefined","formSummaryError","length","stopSubmit","_error","formData","initialized","appReducer","sidebarReducer","reducers","combineReducers","profilePage","profileReducer","dialogsPage","sidebar","formReducer","app","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","store","createStore","applyMiddleware","thunkMiddleware","__store__","withSuspense","fallback","DialogsContainer","lazy","ProfileContainer","App","initializeApp","path","render","AppContainer","withRouter","promise","Promise","all","SamuraiJSApp","ReactDOM","StrictMode","document","getElementById","navigator","serviceWorker","ready","registration","unregister","catch","FormControl","meta","touched","children","hasError","styles","formControl","Textarea","input","restProps","placeholder","validators","component","text","validate","preloader","value","maxLengthCreator","maxLength","posts","likesCount","profile","addPostAC","newPostText","setStatusAC","getUserProfile","newPost","postId"],"mappings":"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","file":"static/js/main.2e042a65.chunk.js","sourcesContent":["import {ActionsTypes, DialogsPageType} from \"../types/entities\";\r\n\r\n\r\nconst SEND_MESSAGE = 'SEND-MESSAGE'\r\n\r\n\r\nconst initialState = {\r\n    dialogs: [\r\n        {id: 1, name: \"Dimych\"},\r\n        {id: 2, name: \"Anton\"},\r\n        {id: 3, name: \"Sveta\"},\r\n        {id: 4, name: \"Alex\"},\r\n        {id: 5, name: \"Nikolai\"},\r\n        {id: 6, name: \"Valery\"}\r\n    ],\r\n    messages: [\r\n        {id: 1, message: \"Hi\"},\r\n        {id: 2, message: \"Hello, no problem\"},\r\n        {id: 3, message: \"Hi, how are you?\"},\r\n        {id: 4, message: \"Hi\"},\r\n        {id: 5, message: \"Hi, how are you?\"},\r\n        {id: 6, message: \"Hello\"}\r\n    ],\r\n\r\n}\r\n\r\n const dialogsReducer = (state: DialogsPageType = initialState, action: ActionsTypes): DialogsPageType => {\r\n     switch (action.type) {\r\n         case SEND_MESSAGE:\r\n             let body = action.newMessageBody;\r\n             return  {\r\n                 ...state,\r\n                 messages: [...state.messages, {id: 7, message: body}]\r\n             };\r\n         default:\r\n             return state;\r\n     }\r\n }\r\n\r\nexport const sendMessageCreator = (newMessageBody: string) => ({type: SEND_MESSAGE, newMessageBody}) as const;\r\n\r\n\r\n\r\n\r\n\r\nexport default dialogsReducer;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"photo\":\"Users_photo__sWF0t\"};","module.exports = \"data:image/jpeg;base64,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\"","module.exports = __webpack_public_path__ + \"static/media/preloader.fcac5c4d.svg\";","import axios from \"axios\";\r\n\r\n\r\n\r\nconst  instance = axios.create({\r\n    withCredentials: true,\r\n    baseURL: 'https://social-network.samuraijs.com/api/1.0/',\r\n    headers: {\r\n        \"API-KEY\": \"2e8dfc3a-ddd8-4664-a36b-eb1d4d5042e7\"\r\n    }\r\n})\r\n\r\nexport const  ProfileApi = {\r\n    getProfile (userId: string) {\r\n        return instance.get(`profile/` + userId);\r\n    },\r\n    getStatus(userId: string) {\r\n        return instance.get(`profile/status/` + userId);\r\n    },\r\n    updateStatus(status: string) {\r\n        return instance.put(`profile/status`, {status: status});\r\n    }\r\n}\r\n\r\n\r\nexport const userAPI = {\r\n    getUsers(currentPage: number = 1, pageSize: number = 10) {\r\n        return instance.get(`users?page=${currentPage} &count=${pageSize}`)\r\n            .then(response => {\r\n                return response.data\r\n            })\r\n    },\r\n    follow(userId: number) {\r\n       return  instance.post(`follow/${userId}`);\r\n    },\r\n    unfollow(userId: number) {\r\n       return  instance.delete(`follow/${userId}`);\r\n    },\r\n    getProfile (userId: string) {\r\n        console.warn(' Obsolete method. Please profileAPI object.')\r\n       return ProfileApi.getProfile(userId)\r\n    }\r\n}\r\n\r\n\r\nexport const authAPI = {\r\n    me() {\r\n        return instance.get(`auth/me`);\r\n    },\r\n    login(email: string, password: string, rememberMe: boolean = false) {\r\n        return instance.post(`auth/login`, {email, password, rememberMe});\r\n    },\r\n    logout() {\r\n        return instance.delete(`auth/login`);\r\n    }\r\n}\r\n\r\n\r\n\r\n\r\n\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Navbar_nav__1Vnku\",\"item\":\"Navbar_item__16Mob\",\"activeLink\":\"Navbar_activeLink__3PYTo\"};","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      process.env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import {RootStateType} from \"../types/entities\";\r\nimport {userAPI} from \"../api/api\";\r\nimport {Dispatch} from \"redux\";\r\nimport {ThunkAction} from \"redux-thunk\";\r\nimport { updateObjectInArray } from \"../utils/objects-helpers\";\r\n\r\n\r\n// const FOLLOW = 'FOLLOW';\r\n// const UNFOLLOW = 'UNFOLLOW';\r\n// const SET_USERS = 'SET-USERS';\r\n// const SET_CURRENT_PAGE = 'SET-CURRENT-PAGE'\r\n// const SET_TOTAL_USERS_COUNT = 'SET-TOTAL-USERS-COUNT';\r\n// const TOGGLE_IS_FETCHING = 'TOGGLE-IS-FETCHING';\r\n// const TOGGLE_IS_FOLLOWING_PROGRESS = 'TOGGLE-IS-FOLLOWING-PROGRESS';\r\n\r\n\r\nexport type UsersType = {\r\n    name: string\r\n    id: number\r\n    photos: { small: string, large: string }\r\n    status: string\r\n    followed: boolean\r\n}\r\n\r\nexport type UsersPageType = {\r\n    users: Array<UsersType>\r\n    pageSize: number,\r\n    totalUsersCount: number\r\n    currentPage: number\r\n    isFetching: boolean\r\n    followingInProgress: Array<number>\r\n}\r\n\r\n\r\n\r\n\r\nconst initialState = {\r\n    users: [],\r\n    pageSize: 5,\r\n    totalUsersCount: 0,\r\n    currentPage: 2,\r\n    isFetching: true,\r\n    followingInProgress: []\r\n}\r\n\r\n\r\nconst usersReducer = (state: UsersPageType = initialState, action: ActionsTypes):UsersPageType => {\r\n    switch (action.type) {\r\n        case 'FOLLOW':\r\n            return  {\r\n                ...state,\r\n                users: updateObjectInArray(state.users,action.userId,\"id\", {followed: true})\r\n            }\r\n        case 'UNFOLLOW':\r\n            return {\r\n                ...state,\r\n                users: updateObjectInArray(state.users,action.userId,\"id\", {followed: false})\r\n                // // users: [...state, users],\r\n                // users: state.users.map(u => {\r\n                //     if (u.id === action.userId) {\r\n                //         return {...u, followed: false}\r\n                //     }\r\n                //     return u;\r\n                // })\r\n            }\r\n        case 'SET-USERS':\r\n            return{\r\n                ...state,\r\n                users:  action.users\r\n            }\r\n            case 'SET-CURRENT-PAGE':\r\n            return{\r\n                ...state, currentPage: action.currentPage\r\n            }\r\n            case  'SET-TOTAL-USERS-COUNT':\r\n            return{\r\n                ...state, totalUsersCount: action.count\r\n            }\r\n            case  'TOGGLE-IS-FETCHING':\r\n            return{\r\n                ...state, isFetching: action.isFetching\r\n            }\r\n            case  'TOGGLE-IS-FOLLOWING-PROGRESS':\r\n            return{\r\n                ...state,\r\n                followingInProgress: action.isFetching\r\n                    ? [...state.followingInProgress, action.userId]\r\n                    : state.followingInProgress.filter(id => id != action.userId)\r\n            }\r\n\r\n        default:\r\n            return state;\r\n    }\r\n\r\n}\r\n\r\ntype GetStateType = () => RootStateType\r\ntype DispatchType = Dispatch<ActionsTypes>\r\n\r\n\r\n\r\nexport type ActionsTypes = | ReturnType<typeof followSuccess>\r\n    | ReturnType<typeof unfollowSuccess>\r\n    | ReturnType<typeof setUsers>\r\n    | ReturnType<typeof setCurrentPage>\r\n    | ReturnType<typeof  setTotalUsersCount>\r\n    | ReturnType<typeof toggleIsFetching>\r\n    | ReturnType<typeof toggleIsFollowingProgress>\r\n\r\n\r\n\r\nexport const followSuccess = (userId: number) => ({type: 'FOLLOW', userId} as const);\r\nexport const unfollowSuccess = (userId: number) => ({type: 'UNFOLLOW', userId} as const);\r\nexport const setUsers = (users: Array<UsersType>) => ({type: 'SET-USERS', users} as const);\r\nexport const setCurrentPage = (currentPage: number) => ({type: 'SET-CURRENT-PAGE', currentPage}as const);\r\nexport const setTotalUsersCount = (totalUsersCount: number) => ({type: 'SET-TOTAL-USERS-COUNT', count: totalUsersCount}as const)  ;\r\nexport const toggleIsFetching = (isFetching: boolean) => ({type: 'TOGGLE-IS-FETCHING', isFetching} as const);\r\nexport const toggleIsFollowingProgress = (isFetching: boolean, userId: number) => ({type: 'TOGGLE-IS-FOLLOWING-PROGRESS', isFetching, userId}as const);\r\n\r\n\r\n\r\n//thunk-creators\r\n// export const requestUsers = (page: number, pageSize: number ) => {\r\n//     return (dispatch: DispatchType, getState: GetStateType) => {\r\n//         dispatch(toggleIsFetching(true))\r\n//         dispatch(setCurrentPage(page))\r\n//         userAPI.getUsers(page, pageSize).then(data => {\r\n//             dispatch(toggleIsFetching(false));\r\n//             dispatch(setUsers(data.items));\r\n//             dispatch(setTotalUsersCount(data.totalCount));\r\n//\r\n//         });\r\n//     }\r\n// }\r\nexport const requestUsers = (page: number,\r\n                             pageSize: number): ThunkAction<void, RootStateType,\r\n    unknown, ActionsTypes> => {\r\n    return async (dispatch, getState) => {\r\n        dispatch(toggleIsFetching(true))\r\n        dispatch(setCurrentPage(page))\r\n        let data = await userAPI.getUsers(page, pageSize)\r\n        dispatch(toggleIsFetching(false))\r\n        dispatch(setUsers(data.items))\r\n        dispatch(setTotalUsersCount(data.totalCount))\r\n    }\r\n}\r\nexport enum ResultCodesEnum {\r\n    Success = 0,\r\n    Error = 1\r\n}\r\n\r\nexport type APIResponseType<D = {}, RC = ResultCodesEnum> = {\r\n    data: D\r\n    messages: Array<string>\r\n    resultCode: RC\r\n}\r\n\r\nconst _followUnfollowFlow = async (dispatch: Dispatch<ActionsTypes>, userId: number,  apiMethod: (userId: number) =>\r\n    Promise<any>,  actionCreator: (userId: number) => ActionsTypes) => {\r\n    dispatch(toggleIsFollowingProgress(true, userId))\r\n    let response = await apiMethod(userId)\r\n\r\n    if (response.resultCode == 0) {\r\n        dispatch(actionCreator(userId))\r\n    }\r\n    dispatch(toggleIsFollowingProgress(false, userId))\r\n}\r\n\r\nexport const follow = (userId: number): ThunkAction<void, RootStateType,\r\n    unknown, ActionsTypes> => {\r\n    return async (dispatch) => {\r\n        await _followUnfollowFlow(dispatch, userId, userAPI.follow.bind(userAPI),followSuccess)\r\n    }\r\n}\r\n\r\nexport const unfollow = (userId: number): ThunkAction<void, RootStateType,\r\n    unknown, ActionsTypes> => {\r\n    return async (dispatch) => {\r\n        await _followUnfollowFlow(dispatch, userId, userAPI.unfollow.bind(userAPI), unfollowSuccess)\r\n    }\r\n}\r\n\r\n\r\n// export const follow = (userId: number): ThunkAction<void, RootStateType,\r\n//     unknown, ActionsTypes> => {\r\n//     return async (dispatch: DispatchType, getState: GetStateType) => {\r\n//         dispatch(toggleIsFollowingProgress(true, userId));\r\n//         let response = await userAPI.follow(userId)\r\n//         if (response.data.resultCode === 0) {\r\n//             dispatch(followSuccess(userId))\r\n//         }\r\n//         dispatch(toggleIsFollowingProgress(false, userId))\r\n//     }\r\n// }\r\n//\r\n// export const unfollow = (userId: number): ThunkAction<void, RootStateType,\r\n//     unknown, ActionsTypes> => {\r\n//     return async (dispatch: DispatchType, getState: GetStateType) => {\r\n//         dispatch(toggleIsFollowingProgress(true, userId))\r\n//         let response = await userAPI.unfollow(userId)\r\n//         if (response.data.resultCode === 0) {\r\n//             dispatch(unfollowSuccess(userId))\r\n//         }\r\n//         dispatch(toggleIsFollowingProgress(false, userId))\r\n//     }\r\n// }\r\n\r\n\r\nexport default usersReducer;\r\n\r\n\r\n\r\n","import React from 'react';\r\nimport s from './Navbar.module.css';\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\n\r\nconst Navbar = () => {\r\n    return (\r\n        <nav className={s.nav}>\r\n        <div className={`${s.item} ${s.active}`}>\r\n            <NavLink to =\"/profile\" activeClassName={s.activeLink}>Profile</NavLink>\r\n        </div>\r\n        <div className={s.item}>\r\n            <NavLink to =\"/dialogs\" activeClassName={s.activeLink}>Messages</NavLink>\r\n        </div>\r\n            <div className={s.item}>\r\n                <NavLink to =\"/users\" activeClassName={s.activeLink}>Users</NavLink>\r\n            </div>\r\n        <div className={s.item}>\r\n            <NavLink to=\"/news\">News</NavLink>\r\n        </div>\r\n        <div className={s.item}>\r\n            <NavLink to=\"/music\">Music</NavLink>\r\n        </div>\r\n        <div className={s.item}>\r\n            <NavLink to=\"settings\">Settings</NavLink>\r\n        </div>\r\n    </nav>)\r\n}\r\n\r\nexport default  Navbar;","\r\n\r\n\r\nexport const updateObjectInArray = (items: any, itemId: any, objPropName: any, newObjProps: any) => {\r\n    return items.map((u: any) => {\r\n        if(u[objPropName] === itemId){\r\n            return {...u, ...newObjProps}\r\n        }\r\n        return u;\r\n    })\r\n\r\n}","import React, { useState } from 'react';\r\nimport s from \"./Paginator.module.css\";\r\n\r\n\r\ntype PropsType = {\r\n    totalItemsCount: number\r\n    pageSize: number\r\n    currentPage?: number\r\n    onPageChanged: (pageNumber: number) => void\r\n    portionSize?: number\r\n}\r\n\r\nconst Paginator: React.FC<PropsType> = ({\r\n                                            portionSize = 10,\r\n                                            pageSize,\r\n                                            totalItemsCount,\r\n                                            currentPage= 1,\r\n                                            onPageChanged = x => x\r\n                                        }) => {\r\n\r\n    const pagesCount = Math.ceil(totalItemsCount / pageSize);\r\n    const pages: Array<number> = [];\r\n    for (let i = 1; i <= pagesCount; i++) {\r\n        pages.push(i);\r\n    }\r\n\r\n    let portionCount = Math.ceil(pagesCount / portionSize);\r\n    let [portionNumber, setPortionNumber] = useState(1);\r\n\r\n    let leftPortionPageNumber = (portionNumber - 1) * portionSize + 1;\r\n    let rightPortionPageNumber = portionNumber * portionSize;\r\n\r\n\r\n    return <div className={s.paginator}>\r\n        {portionNumber > 1 && <button onClick={() => {setPortionNumber(portionNumber - 1)}}>Prev</button>}\r\n        {pages\r\n            .filter(p => p >= leftPortionPageNumber && p<= rightPortionPageNumber)\r\n\r\n            .map(p => {\r\n            return <span className={currentPage === p ? s.selectedPage : \" \"}\r\n                         onClick={(e) => {\r\n                             onPageChanged(p)\r\n                         }}>{p}</span>\r\n        })}\r\n        {portionCount > portionNumber && <button onClick={() => {setPortionNumber(portionNumber + 1)}}>Next</button>}\r\n    </div>\r\n}\r\n\r\nexport default Paginator;","import React from 'react';\r\nimport s from \"./Users.module.css\";\r\nimport userPhoto from \"../../assets/images/Anton.jpg\";\r\nimport {NavLink} from 'react-router-dom';\r\n\r\n\r\nexport type PhotosType = {\r\n    small: string | null\r\n    large: string | null\r\n}\r\n\r\nexport type UserType = {\r\n    id: number\r\n    name: string\r\n    status: string\r\n    photos: PhotosType\r\n    followed: boolean\r\n}\r\n\r\nexport type UserPropsType = {\r\n    user: UserType\r\n    follow: (userId: number) => void\r\n    unfollow: (userId: number) => void\r\n    followingInProgress: Array<number>\r\n}\r\n\r\nconst User: React.FC<UserPropsType> = ({\r\n                                           user,\r\n                                           followingInProgress,\r\n                                           unfollow,\r\n                                           follow\r\n                                       }) => {\r\n\r\n    return <div>\r\n                <span>\r\n                    <div className={s.photo}>\r\n                       <NavLink to={'profile/' + user.id}> <img\r\n                           src={user.photos.small !== null ? user.photos.small : userPhoto}/></NavLink>\r\n                    </div>\r\n                    <div>\r\n                        {user.followed\r\n                            ? <button disabled={followingInProgress\r\n                                .some(id => id === user.id)}\r\n                                      onClick={() => {\r\n                                          unfollow(user.id)\r\n                                      }}>Unfollow\r\n                            </button>\r\n\r\n                            : <button disabled={followingInProgress.some(id => id === user.id)}\r\n                                      onClick={() => {\r\n                                          follow(user.id)\r\n                                      }}>Follow\r\n                            </button>\r\n                        }\r\n                    </div>\r\n                </span>\r\n        <span>\r\n                    <span>\r\n                        <div>{user.name}</div>\r\n                        <div>{user.status}</div>\r\n                    </span>\r\n                    <span>\r\n                        <div>{\"user.location.country\"}</div>\r\n                        <div>{\"user.location.city\"}</div>\r\n                    </span>\r\n                </span>\r\n\r\n    </div>\r\n}\r\n\r\nexport default User;","import React from 'react';\r\nimport {UsersType} from \"../../Redux/users-reducer\";\r\nimport Paginator from '../common/Paginator/Paginator';\r\nimport User from './User';\r\n\r\n\r\nexport type UsersPropsType = {\r\n    users: Array<UsersType>\r\n    pageSize: number\r\n    totalUsersCount: number\r\n    currentPage: number\r\n    follow: (userId: number) => void\r\n    unfollow: (userId: number) => void\r\n    onPageChanged: (pageNumber: number) => void\r\n    followingInProgress: Array<number>\r\n}\r\n\r\nconst Users: React.FC<UsersPropsType> = ({\r\n                                             users,\r\n                                             pageSize,\r\n                                             totalUsersCount,\r\n                                             currentPage,\r\n                                             follow,\r\n                                             unfollow,\r\n                                             onPageChanged,\r\n                                             followingInProgress\r\n                                         }) => {\r\n\r\n    return <div>\r\n        <Paginator currentPage={currentPage} onPageChanged={onPageChanged}\r\n                   totalItemsCount={totalUsersCount} pageSize={pageSize}/>\r\n\r\n        <div>\r\n            {\r\n                users.map(u => <User user={u}\r\n                                     followingInProgress={followingInProgress}\r\n                                     key={u.id}\r\n                                     unfollow={unfollow}\r\n                                     follow={follow}\r\n\r\n                />)\r\n            }\r\n        </div>\r\n    </div>\r\n}\r\n\r\nexport default Users;","import { RootStateType } from \"./redux-store\"\r\nimport {createSelector} from \"reselect\";\r\nimport {UsersType} from \"./users-reducer\";\r\n\r\nconst getUsersSelector = (state: RootStateType) => {\r\n    return state.usersPage.users\r\n}\r\n\r\nexport const getUsers = createSelector(getUsersSelector, (users: Array<UsersType>) => {\r\n   return  users.filter(u => true);\r\n})\r\n\r\n\r\nexport const getPageSize = (state: RootStateType) => {\r\n    return state.usersPage.pageSize\r\n}\r\n\r\nexport const getTotalUsersCount = (state: RootStateType) => {\r\n    return state.usersPage.totalUsersCount\r\n}\r\n\r\nexport const getCurrentPage = (state: RootStateType) => {\r\n    return state.usersPage.currentPage\r\n}\r\n\r\nexport const getIsFetching = (state: RootStateType) => {\r\n    return state.usersPage.isFetching\r\n}\r\n\r\nexport const getFollowingInProgress = (state: RootStateType) => {\r\n    return state.usersPage.followingInProgress\r\n}\r\n\r\n\r\n\r\n\r\n","import React from 'react';\r\nimport {connect} from \"react-redux\";\r\n\r\nimport {\r\n    UsersType,\r\n    requestUsers, follow, unfollow} from '../../Redux/users-reducer';\r\nimport Users from \"./Users\";\r\nimport Preloader from \"../common/Preloader/Preloader\";\r\nimport { compose } from 'redux';\r\nimport {\r\n    getCurrentPage,\r\n    getFollowingInProgress, getIsFetching,\r\n    getPageSize,\r\n    getTotalUsersCount,\r\n    getUsers,\r\n} from '../../Redux/users-selector';\r\nimport {RootStateType} from \"../../Redux/redux-store\";\r\n\r\n\r\n\r\ntype MapStatePropsType = {\r\n    users: Array<UsersType>\r\n    pageSize: number\r\n    totalUsersCount: number\r\n    currentPage: number\r\n    isFetching: boolean\r\n    followingInProgress: Array<number>\r\n}\r\n\r\ntype MapDispatchPropsType = {\r\n    follow: (userId: number) => void\r\n    unfollow: (userId: number) =>void\r\n    getUsers:(currentPage: number, pageSize: number) => void\r\n}\r\n\r\nexport type UsersContainerPropsType = MapStatePropsType & MapDispatchPropsType;\r\n\r\n\r\nclass UsersContainer extends React.Component<UsersContainerPropsType> {\r\n\r\n    componentDidMount() {\r\n        const {currentPage, pageSize} = this.props\r\n        this.props.getUsers(currentPage, pageSize);\r\n    }\r\n\r\n    onPageChanged = (pageNumber: number) => {\r\n        const {pageSize} = this.props\r\n        this.props.getUsers(pageNumber, pageSize);\r\n    }\r\n\r\n    render() {\r\n        return <>\r\n           <div>\r\n                { this.props.isFetching ?  < Preloader /> : null}\r\n            </div>\r\n\r\n            < Users totalUsersCount={this.props.totalUsersCount}\r\n                    pageSize={this.props.pageSize}\r\n                    currentPage={this.props.currentPage}\r\n                    onPageChanged={this.onPageChanged}\r\n                    users={this.props.users}\r\n                    follow={this.props.follow}\r\n                    unfollow={this.props.unfollow}\r\n                    followingInProgress={this.props.followingInProgress}\r\n            />\r\n        </>\r\n    }\r\n}\r\n\r\n\r\nconst mapStateToProps = (state: RootStateType):MapStatePropsType => {\r\n    return {\r\n        users: getUsers(state),\r\n        pageSize: getPageSize(state),\r\n        totalUsersCount: getTotalUsersCount(state),\r\n        currentPage: getCurrentPage(state),\r\n        isFetching: getIsFetching(state),\r\n        followingInProgress: getFollowingInProgress(state)\r\n    }\r\n}\r\n\r\n\r\nexport default compose<React.ComponentType>(\r\n    connect<MapStatePropsType, MapDispatchPropsType, {}, RootStateType>(mapStateToProps, {\r\n        follow, unfollow , getUsers: requestUsers })\r\n) (UsersContainer)","import React from 'react';\r\nimport './Header.module.css';\r\nimport s from './Header.module.css'\r\nimport { NavLink } from 'react-router-dom';\r\n\r\ntype AuthPropsType = {\r\n    isAuth: boolean\r\n    login: string | null\r\n    logout: any\r\n}\r\n\r\n\r\nconst Header: React.FC<AuthPropsType> = ({isAuth,login, logout}) => {\r\n    return <header className={s.header}>\r\n        <img src=\"https://i.pinimg.com/736x/7f/bf/a5/7fbfa58f7132f24c62da23d85c849e30.jpg\" alt=\"\"/>\r\n        <div className={s.loginBlock}>\r\n            {isAuth\r\n                ? <div>{login} <button onClick={logout}>Logout</button></div>\r\n                : <NavLink to={'/login'}>Login</NavLink> }\r\n        </div>\r\n    </header>\r\n}\r\n\r\nexport default  Header;","import {authAPI} from \"../api/api\";\r\nimport {Dispatch} from \"redux\";\r\nimport {FormAction, stopSubmit} from \"redux-form\";\r\nimport { RootStateType } from \"./redux-store\";\r\nimport {ThunkAction} from \"redux-thunk\";\r\n\r\n\r\nexport type AuthType = {\r\n    userId: number | null,\r\n    email: string | null,\r\n    login: string | null,\r\n    isAuth: boolean\r\n}\r\n\r\n\r\nconst initialState = {\r\n    userId: null as (number | null),\r\n    email: null as string | null,\r\n    login: null as string | null,\r\n    isAuth: false,\r\n};\r\n\r\n// type InitialState = typeof initialState;\r\n// type ThunkType = BaseThunkType<ActionsTypes>\r\n\r\nconst authReducer = (state = initialState, action: ActionsTypes): AuthType=> {\r\n    switch (action.type) {\r\n        case 'social-network/auth/SET-USER-DATA':\r\n            return {\r\n                ...state,\r\n                ...action.payload\r\n            }\r\n\r\n        default:\r\n            return state;\r\n    }\r\n\r\n}\r\n\r\n\r\ntype ActionsTypes =  setAuthUserDataPropsType\r\nexport type setAuthUserDataPropsType = ReturnType<typeof setAuthUserData>\r\n//action creators\r\nexport const setAuthUserData = (userId: number | null, email: string | null,\r\n                                login: string | null, isAuth: boolean) => ({type: 'social-network/auth/SET-USER-DATA',\r\n    payload: {userId, email, login, isAuth}} as const)\r\n\r\n\r\n\r\ntype GetStateType = () => RootStateType\r\ntype DispatchType = Dispatch<ActionsTypes>\r\n// thunk creator\r\n\r\n// export const getAuthUserData = (): ThunkAction<void, RootStateType,\r\n//     unknown, ActionsTypes> => (dispatch: DispatchType)=> {\r\n//     return authAPI.me()\r\n//         .then(response => {\r\n//             if(response.data.resultCode === 0) {\r\n//                 let {userId,email,login} = response.data.data\r\n//                 dispatch (setAuthUserData(userId, email, login, true))\r\n//             }\r\n//         });\r\n// };\r\n\r\nexport const getAuthUserData = () => async (dispatch: DispatchType) => {\r\n    let response = await authAPI.me();\r\n\r\n    if (response.data.resultCode === 0) {\r\n        let {id, login, email} = response.data.data;\r\n        dispatch(setAuthUserData(id, email, login, true));\r\n    }\r\n}\r\n\r\n\r\nexport const login = (email: string, password: string, rememberMe: boolean): ThunkAction<void, RootStateType,\r\n     unknown, ActionsTypes | FormAction> => async (dispatch) => {\r\n    let response= await authAPI.login(email, password, rememberMe);\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(getAuthUserData())\r\n    } else {\r\n        let message = response.data.messages.length > 0 ? response.data.messages[0] : \"Some error\";\r\n        dispatch(stopSubmit(\"login\", {_error: message}));\r\n    }\r\n}\r\n\r\n\r\nexport const logout = (): ThunkAction<void, RootStateType,\r\n    unknown, ActionsTypes> => async (dispatch: DispatchType) => {\r\n    let response = await authAPI.logout();\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(setAuthUserData(null, null, null, false))\r\n    }\r\n};\r\n\r\nexport default authReducer;","import React from 'react';\r\nimport './Header.module.css';\r\nimport Header from \"./Header\";\r\nimport {connect} from \"react-redux\";\r\nimport { RootStateType} from '../../types/entities';\r\nimport {logout} from \"../../Redux/auth-reducer\";\r\n\r\n\r\nexport type MapStatePropsType = {\r\n    id: number | null,\r\n    email: string | null,\r\n    login: string | null,\r\n    isAuth: boolean\r\n}\r\n\r\nexport type MapDispatchPropsType = {\r\n    logout: any\r\n}\r\n\r\nexport type AuthContainerPropsType = MapStatePropsType & MapDispatchPropsType\r\n\r\n\r\n\r\n\r\nclass HeaderContainer extends React.Component<AuthContainerPropsType> {\r\n\r\n\r\n\r\n\r\n    render() {\r\n        return <Header {...this.props}/>\r\n\r\n    }\r\n\r\n}\r\nconst mapStateToProps = (state: RootStateType): MapStatePropsType => ({\r\n    id: state.auth.userId,\r\n    email: state.auth.email,\r\n    login: state.auth.login,\r\n    isAuth: state.auth.isAuth,\r\n});\r\n\r\nexport default  connect<MapStatePropsType,MapDispatchPropsType, {} , RootStateType>(mapStateToProps, {logout})\r\n(HeaderContainer);\r\n\r\n\r\n\r\n","import React from 'react';\r\nimport {reduxForm, InjectedFormProps} from \"redux-form\";\r\nimport {createField, Input} from \"../common/Preloader/FormsControls/FormsControls\";\r\nimport {required} from \"../../utils/validators/validators\";\r\nimport { connect } from 'react-redux';\r\nimport { Redirect } from 'react-router-dom';\r\nimport { RootStateType } from '../../Redux/redux-store';\r\nimport {login} from \"../../Redux/auth-reducer\";\r\nimport s from '../common/Preloader/FormsControls/FormsControls.module.css'\r\n\r\n\r\n\r\nexport type FormDataType = {\r\n    email: string\r\n    password: string\r\n    rememberMe: boolean\r\n}\r\n\r\n\r\nexport const LoginForm: React.FC<InjectedFormProps<FormDataType>> = ({handleSubmit,error}) => {\r\n    return (\r\n        <form onSubmit={handleSubmit}>\r\n            {createField('Email', 'email', [required], Input)}\r\n            {createField('Password', 'password', [required], Input, {type: 'password'})}\r\n            {createField(undefined, 'rememberMe', [], Input, {type: 'checkbox'}, 'remember me')}\r\n            {error && <div className={s.formSummaryError}>\r\n                {error}\r\n            </div>\r\n            }\r\n            <div>\r\n                <button>Login</button>\r\n            </div>\r\n        </form>\r\n    )\r\n}\r\n\r\n\r\nconst LoginReduxForm = reduxForm<FormDataType>({form: 'login'})(LoginForm)\r\n\r\nconst Login: React.FC<MapStatePropsType & MapDispatchPropsType> = (props) => {\r\n    const onSubmit = (formData: FormDataType) => {\r\n        props.login(formData.email, formData.password, formData.rememberMe)\r\n    }\r\n\r\n    if(props.isAuth) {\r\n        return <Redirect to={\"/profile\"} />\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <h1>Login</h1>\r\n            < LoginReduxForm onSubmit={onSubmit}/>\r\n        </div>\r\n        )\r\n}\r\ntype  MapStatePropsType = {\r\n    isAuth: boolean\r\n}\r\n\r\ntype MapDispatchPropsType = {\r\n    login: (email:string, password: string, rememberMe: boolean) => void\r\n}\r\n\r\nconst mapStateToProps = (state: RootStateType) => ({\r\n    isAuth: state.auth.isAuth\r\n})\r\nexport default connect <MapStatePropsType,MapDispatchPropsType, {} , RootStateType>(mapStateToProps,{login} ) (Login);","import {Dispatch} from \"redux\";\r\nimport {getAuthUserData} from \"./auth-reducer\";\r\nimport {RootStateType} from \"./redux-store\";\r\nimport {ThunkAction} from \"redux-thunk\";\r\n\r\n\r\nexport type AppType = {\r\n    initialized: boolean\r\n}\r\n\r\n\r\nconst initialState = {\r\n   initialized: false\r\n}\r\n// type InitialState = typeof initialState;\r\n\r\n\r\nexport const appReducer = (state= initialState, action: ActionsTypes):  AppType => {\r\n    switch (action.type) {\r\n        case 'INITIALIZED-SUCCESS':\r\n            return {\r\n                ...state,\r\n                initialized: true\r\n            }\r\n\r\n        default:\r\n            return state;\r\n    }\r\n\r\n}\r\n\r\n\r\n\r\ntype ActionsTypes =  ReturnType<typeof initializedSuccess>\r\n\r\n//action creators\r\nexport const initializedSuccess= () => ({type: 'INITIALIZED-SUCCESS'} as const)\r\n\r\n\r\n\r\ntype DispatchType = Dispatch<ActionsTypes>\r\ntype GetStateType = () => RootStateType\r\n\r\n\r\n// thunk creator\r\nexport const initializeApp = (): ThunkAction<void, RootStateType,\r\n    unknown, ActionsTypes> => (dispatch, getState: GetStateType) => {\r\n    const promise = dispatch(getAuthUserData());\r\n\r\n   Promise.all([promise])\r\n       .then(() => {\r\n        dispatch(initializedSuccess())\r\n    })\r\n};\r\n\r\n\r\nexport default appReducer;","import {ActionsTypes, SidebarType} from \"../types/entities\";\r\n\r\n\r\n\r\nconst initialState ={}\r\n\r\n const sidebarReducer = (state: SidebarType = initialState, action: ActionsTypes) => {\r\n\r\n\r\n    return state\r\n}\r\n\r\n\r\nexport default sidebarReducer;","import {createStore, combineReducers, applyMiddleware, Action, compose} from \"redux\";\r\nimport profileReducer from \"./profile-reducer\";\r\nimport dialogsReducer from \"./dialogs-reducer\";\r\nimport sidebarReducer from \"./sidebar-reducer\";\r\nimport usersReducer from \"./users-reducer\";\r\nimport authReducer from \"./auth-reducer\";\r\nimport thunkMiddleware, {ThunkAction} from \"redux-thunk\";\r\nimport {reducer as formReducer} from \"redux-form\";\r\nimport appReducer from \"./app-reducer\";\r\n\r\n\r\nconst reducers = combineReducers({\r\n    profilePage:  profileReducer,\r\n    dialogsPage: dialogsReducer,\r\n    sidebar: sidebarReducer,\r\n    usersPage: usersReducer,\r\n    auth: authReducer,\r\n    form: formReducer,\r\n    app: appReducer\r\n})\r\n\r\ntype ReducersType = typeof reducers;\r\nexport type RootStateType = ReturnType<ReducersType>\r\n\r\n\r\n// export type InferActionsTypes<T> = T extends { [keys: string]: (...args: any[]) => infer U } ? U : never\r\n// export type BaseThunkType<A extends Action,R = Promise<void>> =  ThunkAction<R, RootStateType, unknown, A>\r\n\r\n\r\n// @ts-ignore\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\n\r\n\r\nconst store = createStore(reducers, composeEnhancers(applyMiddleware(thunkMiddleware)));\r\n\r\n// @ts-ignore\r\nwindow.__store__ = store\r\n\r\nexport default store;\r\n","import React, { ComponentType, Suspense } from 'react';\r\n\r\n\r\n\r\nexport function withSuspense <WCP>(Component: ComponentType<WCP>){\r\n    return (props: any) => {\r\n     return <Suspense fallback={<div>Loading...</div>}>\r\n         <Component {...props}/>\r\n     </Suspense>\r\n    }\r\n\r\n\r\n}\r\n\r\n","import React, { Suspense } from 'react';\r\nimport './App.css';\r\nimport Navbar from \"./components/Navbar/Navbar\";\r\nimport {BrowserRouter, Route, withRouter} from 'react-router-dom';\r\nimport UsersContainer from \"./components/Users/UsersContainer\";\r\nimport HeaderContainer from \"./components/Header/HeaderContainer\";\r\nimport LoginPage from \"./components/Login/Login\";\r\nimport {connect, Provider} from \"react-redux\";\r\nimport {initializeApp} from \"./Redux/app-reducer\";\r\nimport Preloader from \"./components/common/Preloader/Preloader\";\r\nimport { compose } from 'redux';\r\nimport store, {RootStateType} from \"./Redux/redux-store\";\r\nimport {withSuspense} from \"./hoc/withSuspense\";\r\n\r\n\r\n\r\n\r\nconst DialogsContainer = React.lazy(() => import('./components/Dialogs/DialogsContainer'));\r\nconst  ProfileContainer = React.lazy(() => import('./components/Profile/ProfileContainer'));\r\n\r\n\r\n\r\n\r\ntype MapDispatchPropsType = {\r\n    initializeApp: () => void\r\n}\r\ntype MapStatePropsType = {\r\n    initialized: boolean\r\n}\r\n\r\n\r\nclass App extends React.Component<MapDispatchPropsType & MapStatePropsType> {\r\n\r\n    componentDidMount() {\r\n        this.props.initializeApp();\r\n    }\r\n\r\n    render() {\r\n        if(!this.props.initialized){\r\n            return <Preloader/>\r\n        }\r\n\r\n\r\n\r\n        return (\r\n                <div className='app-wrapper'>\r\n                    < HeaderContainer/>\r\n                    < Navbar/>\r\n                    <div className='app-wrapper-content'>\r\n                        <Route path='/dialogs'\r\n                               render={withSuspense(DialogsContainer)}/>\r\n                        <Route path='/profile/:userId?'\r\n                               render={withSuspense(ProfileContainer)}/>\r\n                        <Route path='/users' render={() => < UsersContainer/>}/>\r\n                        <Route path='/login' render={() => < LoginPage/>}/>\r\n\r\n                    </div>\r\n                </div>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state: RootStateType):MapStatePropsType => ({\r\n    initialized: state.app.initialized\r\n})\r\n\r\n\r\nconst AppContainer =  compose<React.ComponentType>(\r\n    withRouter,\r\n    connect<MapStatePropsType, {}, MapDispatchPropsType, RootStateType>\r\n    (mapStateToProps, {initializeApp}) ) (App) ;\r\n\r\nconst SamuraiJSApp: React.FC = () => {\r\n    return <BrowserRouter>\r\n        <Provider store={store}>\r\n            <AppContainer/>\r\n        </Provider>\r\n    </BrowserRouter>\r\n}\r\n\r\nexport default SamuraiJSApp;","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport * as serviceWorker from './serviceWorker';\r\nimport SamuraiJSApp from \"./App\";\r\n\r\n\r\nReactDOM.render(\r\n    <React.StrictMode>\r\n        <SamuraiJSApp/>\r\n    </React.StrictMode>,\r\n    document.getElementById('root'));\r\n\r\n\r\n// renderTree(store.getState())\r\n// store.subscribe(() => {\r\n//     const state = store.getState()\r\n//     renderTree(state);\r\n// })\r\n\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n","import React from 'react';\r\nimport {Field, WrappedFieldMetaProps, WrappedFieldProps} from 'redux-form';\r\nimport styles from \"./FormsControls.module.css\"\r\nimport {required} from \"../../../../utils/validators/validators\";\r\n\r\n\r\nexport type FormControlPropsType = {\r\n    meta: WrappedFieldMetaProps\r\n}\r\n\r\n\r\n\r\nexport const FormControl: React.FC<FormControlPropsType> =\r\n    ({ meta:{touched, error}, children}) => {\r\n    const hasError =  touched && error\r\n\r\n    return (\r\n        <div className={`${styles.formControl} ${hasError ? styles.error : \" \"}`}>\r\n            <div>\r\n                {children}\r\n            </div>\r\n            {hasError && <span>{error}</span>}\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\nexport const Textarea: React.FC<WrappedFieldProps>= (props) => {\r\n    // const {input, meta, child, ...restProps} = props\r\n    const {input, meta,...restProps} = props\r\n    return <FormControl {...props}><textarea {...input} {...restProps}/></FormControl>\r\n\r\n}\r\n\r\n\r\nexport const Input: React.FC<WrappedFieldProps>= (props) => {\r\n    // const {input, meta, child, ...restProps} = props\r\n    const {input, meta,...restProps} = props\r\n    return <FormControl {...props}><input {...input} {...restProps}/></FormControl>\r\n}\r\n\r\nexport type FieldValidatorType = (value: string) => string | undefined\r\n\r\n\r\nexport function createField<FormKeysType extends string>(placeholder: string | undefined,\r\n                                                         name: FormKeysType,\r\n                                                         validators: Array<FieldValidatorType>,\r\n                                                         component: React.FC<WrappedFieldProps>,\r\n                                                         props = {}, text = \"\") {\r\n    return <div>\r\n        <Field placeholder={placeholder} name={name}\r\n               validate={validators}\r\n               component={component}\r\n               {...props}\r\n        /> {text}\r\n    </div>\r\n}\r\n\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__179vx\",\"loginBlock\":\"Header_loginBlock__3e0C1\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"FormsControls_formControl__3sUV0\",\"error\":\"FormsControls_error__1QbZ5\",\"formSummaryError\":\"FormsControls_formSummaryError__2HCq4\"};","import React from \"react\"\r\nimport preloader from \"../../../assets/images/preloader.svg\";\r\n\r\n\r\nconst Preloader: React.FC<{}> = (props) => {\r\n    return <div>\r\n        <img src={preloader}/>\r\n    </div>\r\n\r\n}\r\n\r\nexport default Preloader;","export const required = (value: any)=> {\r\n    if(value) return undefined\r\n    return 'Field is required'\r\n\r\n}\r\n\r\nexport const maxLengthCreator = (maxLength: number) => (value: any) => {\r\n    if(value.length > maxLength) return `Max length is ${maxLength} symbols`\r\n    return undefined\r\n}\r\n\r\n\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"paginator\":\"Paginator_paginator__kpSa-\",\"pageNumber\":\"Paginator_pageNumber__3Dn4W\",\"selectedPage\":\"Paginator_selectedPage__Z4M2x\"};","import {ProfileApi, userAPI} from \"../api/api\";\r\nimport {Dispatch} from \"redux\";\r\n\r\n\r\nconst ADD_POST = 'ADD-POST';\r\nconst SET_USER_PROFILE = 'SET-USER-PROFILE';\r\nconst SET_STATUS = 'SET-STATUS';\r\nconst DELETE_POST = 'DELETE-POST';\r\n\r\n\r\nexport type PostsType = {\r\n    id: number\r\n    message: string\r\n    likesCount: number\r\n}\r\n\r\nexport type ProfilePageType = {\r\n    posts: Array<PostsType>\r\n    profile: ProfileType | null\r\n    status: string\r\n}\r\n\r\nexport type ProfileType = {\r\n    aboutMe: string | null,\r\n    contacts: {\r\n        facebook: string | null,\r\n        website: string | null,\r\n        vk: string | null,\r\n        twitter: string | null,\r\n        instagram: string | null,\r\n        youtube: string | null,\r\n        github: string | null,\r\n        mainLink: string | null,\r\n    },\r\n    lookingForAJob: boolean,\r\n    lookingForAJobDescription: null | string,\r\n    fullName: string,\r\n    userId: number,\r\n    photos: {\r\n        small: string | undefined,\r\n        large: string | undefined,\r\n    }\r\n}\r\n\r\ntype DispatchType = Dispatch<ActionsTypes>\r\n\r\n\r\nconst initialState: ProfilePageType = {\r\n    posts: [\r\n        {id: 1, message: \"Hi, how are you?\", likesCount: 12},\r\n        {id: 2, message: \"It`s my first post\", likesCount: 40},\r\n    ],\r\n    profile: null,\r\n    status: \"\"\r\n}\r\n\r\n\r\ntype ActionsTypes = ReturnType<typeof setStatusAC>\r\n    | ReturnType<typeof addPostAC>\r\n    | ReturnType<typeof setUserProfileAC>\r\n    | ReturnType<typeof deletePost>\r\n\r\n\r\nconst profileReducer = (state: ProfilePageType = initialState, action: ActionsTypes): ProfilePageType => {\r\n    switch (action.type) {\r\n        case ADD_POST:\r\n            let newPost: PostsType = {\r\n                id: 5,\r\n                message: action.newPostText,\r\n                likesCount: 0\r\n            };\r\n            return {\r\n                ...state,\r\n                posts: [...state.posts, newPost],\r\n\r\n            }\r\n        case SET_USER_PROFILE:\r\n            return {\r\n                ...state,\r\n                profile: action.profile\r\n            }\r\n        case SET_STATUS:\r\n            return {\r\n                ...state,\r\n                status: action.status\r\n            }\r\n        case DELETE_POST:\r\n            return {\r\n                ...state,\r\n                posts: state.posts.filter(p => p.id != action.postId)\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n\r\n}\r\n\r\n\r\nexport const addPostAC = (newPostText: string) => ({type: ADD_POST, newPostText}) as const;\r\n\r\nexport const setUserProfileAC = (profile: ProfileType) => ({type: SET_USER_PROFILE, profile}) as const;\r\n\r\nexport const setStatusAC = (status: string) => ({type: SET_STATUS, status}) as const;\r\n\r\nexport const deletePost = (postId: number) => ({type: DELETE_POST, postId}) as const;\r\n\r\n\r\n// thunk creator\r\nexport const getUserProfile = (userId: string) => async (dispatch: DispatchType) => {\r\n    let response = await userAPI.getProfile(userId)\r\n    dispatch(setUserProfileAC(response.data))\r\n}\r\n\r\nexport const getStatus = (userId: string) => async (dispatch: DispatchType) => {\r\n    let response = await ProfileApi.getStatus(userId)\r\n    dispatch(setStatusAC(response.data))\r\n}\r\n\r\nexport const updateStatus = (status: string) => async (dispatch: DispatchType) => {\r\n    let response = await ProfileApi.updateStatus(status)\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(setStatusAC(status))\r\n    }\r\n}\r\n\r\n\r\nexport default profileReducer;\r\n\r\n\r\n\r\n"],"sourceRoot":""}